<html>
<head>
<meta charset="UTF-8">
<script src="http://apps.bdimg.com/libs/jquery/1.7.2/jquery.min.js"></script>
<style>
    #ul1 {
        position: relative;
        top: 100px;
        left: 200px;
        background-color: red;
    }
    #li1 {
        position: absolute;
        background-color: aqua;
        top: 200px;
        left: 100px;

    }
</style>
</head>
<body>
    <ul id="ul1">
        <li id="li1">111</li>
        <li>222</li>
        <li>333</li>
        <li>444</li>
    </ul>
</body>
<script >
(function(window){
    let p1 = new Promise((resolve, reject) => {
    	//这里是通过setTimeout仿作了一个异步背景
        setTimeout(()=>{
            resolve('p1');
        },500)
    })
    let p2 = new Promise((resolve, reject) => {
        setTimeout(()=>{
            reject('p2');
        },1000)
    })
    let p = Promise.allSettled([p1, p2]).then(res=>{
        console.log(31,res);
    })
})(window)

var count = 1;
var test = function() {
    console.log('start')
    setTimeout(()=>{
        console.log(this.count, 11)
    },10)
    setTimeout(function() {
        console.log(this.count, 12)
    },0)
    new Promise(resolve => {
        resolve()
    }).then(()=> {
        console.log('promise')
    })
    console.log('end')
}
test.call({count:2})

</script>
</html>